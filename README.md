# ğŸ›¡ï¸ Steam Verifier

**Steam Verifier** ÎµÎ¯Î½Î±Î¹ Î­Î½Î± ÎµÎ»Î±Ï†ÏÏ, open-source script Î³Î¹Î± FiveM Ï€Î¿Ï… ÎµÎ¼Ï€Î¿Î´Î¯Î¶ÎµÎ¹ Ï„Î¿Ï…Ï‚ Ï€Î±Î¯ÎºÏ„ÎµÏ‚ Î½Î± ÏƒÏ…Î½Î´ÎµÎ¸Î¿ÏÎ½ ÎµÎ¬Î½ Î´ÎµÎ½ Î­Ï‡Î¿Ï…Î½ Î±Î½Î¿Î¹ÎºÏ„ÏŒ Ï„Î¿ Steam. Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯ Ï„Î¿ event `playerConnecting` ÎºÎ±Î¹ Ï€Î±ÏÎ­Ï‡ÎµÎ¹ Î±ÏƒÏ†Î±Î»Î®, ÏƒÏ„Î±Î¸ÎµÏÎ® ÎµÎ¼Ï€ÎµÎ¹ÏÎ¯Î± ÏƒÏ„Î¿ server ÏƒÎ¿Ï… ÎµÎ¾Î±ÏƒÏ†Î±Î»Î¯Î¶Î¿Î½Ï„Î±Ï‚ ÏŒÏ„Î¹ ÏŒÎ»Î¿Î¹ Î¿Î¹ Ï€Î±Î¯ÎºÏ„ÎµÏ‚ ÎµÎ¯Î½Î±Î¹ Ï€Î¹ÏƒÏ„Î¿Ï€Î¿Î¹Î·Î¼Î­Î½Î¿Î¹ Î¼Î­ÏƒÏ‰ Steam.

Î™Î´Î±Î½Î¹ÎºÏŒ Î³Î¹Î± roleplay servers, whitelist ÎºÎ¿Î¹Î½ÏŒÏ„Î·Ï„ÎµÏ‚ ÎºÎ±Î¹ Î¿Ï€Î¿Î¹Î¿Î´Î®Ï€Î¿Ï„Îµ server Î±Ï€Î±Î¹Ï„ÎµÎ¯ Î±Î¾Î¹Î¿Ï€Î¹ÏƒÏ„Î¯Î± ÏƒÏ„Î¿Î½ Î­Î»ÎµÎ³Ï‡Î¿ Ï„Î±Ï…Ï„ÏŒÏ„Î·Ï„Î±Ï‚.

---

## âœ¨ Features

| âœ…  | Î ÎµÏÎ¹Î³ÏÎ±Ï†Î®                                              |
| -- | ------------------------------------------------------ |
| âœ”ï¸ | Î•Î»Î­Î³Ï‡ÎµÎ¹ ÎµÎ¬Î½ Î¿ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ Î­Ï‡ÎµÎ¹ Î±Î½Î¿Î¯Î¾ÎµÎ¹ Ï„Î¿ Steam            |
| âœ”ï¸ | Î‘Î½ Î´ÎµÎ½ ÎµÎ½Ï„Î¿Ï€Î¹ÏƒÏ„ÎµÎ¯ Steam, Î¿ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ Î³Î¯Î½ÎµÏ„Î±Î¹ kick        |
| âœ”ï¸ | Î Î»Î®ÏÏ‰Ï‚ ÏƒÏ…Î¼Î²Î±Ï„ÏŒ Î¼Îµ `playerConnecting` deferrals         |
| âœ”ï¸ | Î ÏÎ¿ÏƒÏ„Î±ÏƒÎ¯Î± Î±Ï€ÏŒ Ï€ÎµÏÎ¯ÎµÏÎ³ÎµÏ‚ ÏƒÏ…Î½Î´Î­ÏƒÎµÎ¹Ï‚ (src == nil)         |
| âœ”ï¸ | ÎšÎ±Î¸Î±ÏÎ¬ Î¼Î·Î½ÏÎ¼Î±Ï„Î± Î³Î¹Î± Ï„Î¿Î½ Ï‡ÏÎ®ÏƒÏ„Î· (`deferrals.done(...)`) |
| âœ”ï¸ | Î•ÏÎºÎ¿Î»Î· ÎµÎ½ÏƒÏ‰Î¼Î¬Ï„Ï‰ÏƒÎ· ÏƒÎµ ÎºÎ¬Î¸Îµ FiveM server                 |
| âœ”ï¸ | ÎœÎ¹ÎºÏÏŒ Î±Ï€Î¿Ï„ÏÏ€Ï‰Î¼Î± ÎºÎ±Î¹ Î¼Î·Î´ÎµÎ½Î¹ÎºÎ® ÎºÎ±Î¸Ï…ÏƒÏ„Î­ÏÎ·ÏƒÎ·               |

---

## ğŸ”§ How it works

Î¤Î¿ script ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¹ÎµÎ¯Ï„Î±Î¹ ÏƒÏ„Î¿ event `playerConnecting`. Î•Î»Î­Î³Ï‡ÎµÎ¹ Ï„Î¹Ï‚ Ï„Î±Ï…Ï„ÏŒÏ„Î·Ï„ÎµÏ‚ Ï„Î¿Ï… Ï€Î±Î¯ÎºÏ„Î· Î³Î¹Î± `steam:` ID. Î•Î¬Î½ Î´ÎµÎ½ ÎµÎ½Ï„Î¿Ï€Î¹ÏƒÏ„ÎµÎ¯, Î· ÏƒÏÎ½Î´ÎµÏƒÎ· Î±Ï€Î¿ÏÏÎ¯Ï€Ï„ÎµÏ„Î±Î¹ Î¼Îµ Î¼Î®Î½Ï…Î¼Î± ÏƒÏ†Î¬Î»Î¼Î±Ï„Î¿Ï‚. Î™Î´Î±Î½Î¹ÎºÏŒ Î³Î¹Î± servers Ï€Î¿Ï… Î±Ï€Î±Î¹Ï„Î¿ÏÎ½ Steam verification Ï‡Ï‰ÏÎ¯Ï‚ Ï‡ÏÎ®ÏƒÎ· Î²Î¬ÏƒÎµÏ‰Î½ Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ Î® Ï€ÎµÏÎ¯Ï€Î»Î¿ÎºÏ‰Î½ auth ÏƒÏ…ÏƒÏ„Î·Î¼Î¬Ï„Ï‰Î½.

```lua
AddEventHandler('playerConnecting', function(name, setKickReason, deferrals)
    -- ÎŸ Ï€Î»Î®ÏÎ·Ï‚ ÎºÏÎ´Î¹ÎºÎ±Ï‚ Î²ÏÎ¯ÏƒÎºÎµÏ„Î±Î¹ ÏƒÏ„Î¿ `steamCheck.lua`
end)
```

---

## ğŸ“¦ Installation

1. ÎšÎ±Ï„Î­Î²Î±ÏƒÎµ Î® Î±Î½Ï„Î­Î³ÏÎ±ÏˆÎµ Ï„Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ `steamCheck.lua`.
2. Î’ÎµÎ²Î±Î¹ÏÏƒÎ¿Ï… Ï€Ï‰Ï‚ Î²ÏÎ¯ÏƒÎºÎµÏ„Î±Î¹ ÏƒÎµ Ï†Î¬ÎºÎµÎ»Î¿ resource (Ï€.Ï‡. `/resources/[local]/steam-verifier/`).
3. Î ÏÏŒÏƒÎ¸ÎµÏƒÎµ ÏƒÏ„Î¿ `fxmanifest.lua` Î® `__resource.lua` Ï„Î¿Ï… Ï†Î±ÎºÎ­Î»Î¿Ï…:

```lua
fx_version 'cerulean'
game 'gta5'

author 'Kaloudas'
description 'Kick players who have not Steam open'
version '1.0.0'

server_script 'steamCheck.lua'
```

4. Î•Î½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎµ Ï„Î¿ resource ÏƒÏ„Î¿ `server.cfg`:

```cfg
ensure steam-verifier
```

---

> \[!TIP]
> Î¤Î¿ Steam Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± ÎµÎ¯Î½Î±Î¹ Î±Î½Î¿Î¹ÎºÏ„ÏŒ Î Î¡Î™Î Î¾ÎµÎºÎ¹Î½Î®ÏƒÎµÎ¹ Ï„Î¿ FiveM, Î±Î»Î»Î¹ÏÏ‚ Î¿ Ï€Î±Î¯ÎºÏ„Î·Ï‚ Î¸Î± Î±Ï€Î¿ÏÏÎ¹Ï†Î¸ÎµÎ¯.

> \[!WARNING]
> Î‘Î½ Î¿ Ï€Î±Î¯ÎºÏ„Î·Ï‚ Ï€ÏÎ¿ÏƒÏ€Î±Î¸Î®ÏƒÎµÎ¹ Î½Î± Î¼Ï€ÎµÎ¹ Ï‡Ï‰ÏÎ¯Ï‚ Steam, Î¸Î± Î´ÎµÎ¹ Î¼Î®Î½Ï…Î¼Î± â€œSteam must be running to join this server.â€

> \[!CAUTION]
> Î Î±Î¯ÎºÏ„ÎµÏ‚ Ï€Î¿Ï… Î­Ï‡Î¿Ï…Î½ Ï€ÏÎ¿ÏƒÏ‰ÏÎ¹Î½Î¬ Ï€ÏÎ¿Î²Î»Î®Î¼Î±Ï„Î± Î¼Îµ Steam ÏƒÏÎ½Î´ÎµÏƒÎ· ÎµÎ½Î´Î­Ï‡ÎµÏ„Î±Î¹ Î½Î± Ï‡ÏÎµÎ¹Î±ÏƒÏ„ÎµÎ¯ Î½Î± ÎµÏ€Î±Î½ÎµÎºÎºÎ¹Î½Î®ÏƒÎ¿Ï…Î½ Steam + FiveM.

---

## ğŸ§ª Example Output

```
Connection denied. Steam must be running to join this server.
```
